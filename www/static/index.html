<!DOCTYPE html>
<html>
  <head>
    <title>Your electric installation</title>
    <meta name="description" content="charset:utf-8"/>
    <meta charset='utf-8'/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- - - - - - - - - - - - - -->
    <!-- CSS - globals           -->
    <!-- - - - - - - - - - - - - -->
    <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">

    <!-- - - - - - - - - - - - - -->
    <!-- CSS - custom            -->
    <!-- - - - - - - - - - - - - -->
    <link rel="stylesheet" type="text/css" href="css/application.css">

    <!-- - - - - - - - - - - - - -->
    <!-- JS - globals            -->
    <!-- - - - - - - - - - - - - -->
    <!-- <script type='text/javascript' src='../bower_components/webcomponentsjs/webcomponents-lite.js'></script> <!- - web components v0--> 
    <!-- <script type='text/javascript' src='bower_components/shadydom/cloudydom.min.js'></script> <!- - web components v1 - shadyDom - -> -->
    <script type='text/javascript' src='bower_components/custom-elements/custom-elements.min.js'></script> <!-- web components v1 -->

    <!-- - - - - - - - - - - - - -->
    <!-- JS - custom             -->
    <!-- - - - - - - - - - - - - -->
    <script type='text/javascript' src='class/Drawer.js'></script>

    <script type='text/javascript' src='class/Builder.js'></script>
    <script type='text/javascript' src='class/IdBuilder.js'></script>
    <script type='text/javascript' src='class/NameBuilder.js'></script>
    <script type='text/javascript' src='class/PositionBuilder.js'></script>


    <script type='text/javascript' src='helpers/away.js'></script>
    <script type='text/javascript' src='helpers/config.js'></script>
    <script type='text/javascript' src='helpers/getDataFromImageUrl.js'></script>

    <script type='text/javascript' src='components/Legend.js'></script>
    <script type='text/javascript' src='components/SchemaPosition.js'></script>
  </head>
  <body>

  <h1>Legend</h1>
  <x-legend value='P'></x-legend>
  <x-legend value='S'></x-legend>
  <x-legend value='Neon'></x-legend>

  <x-legend value='L'></x-legend>
  <x-legend value='Disj'></x-legend>

  <x-legend value='Heater'></x-legend>
  <x-legend value='Boiler'></x-legend>

  <x-legend value='CookingPlates'></x-legend>
  <x-legend value='KNX'></x-legend>
  <x-legend value='Bridge'></x-legend>
  <x-legend value='Transfo'></x-legend>
  <x-legend value='Hotte'></x-legend>

  <h1>Schema filiaire</h1>

  <h1>Plan cave</h1>
  <schema-position value='cave' image='{ src: "/cave.jpg", scale: 0.50, viewBox: "175 100 850 550" }'></schema-position>

  <h1>Plan RDC</h1>
  <div id='plan_rdc'></div>

  <h1>Plan Etage</h1>
  <div id='plan_etage'></div>

  <h1>Plan Grenier</h1>
  <div id='plan_grenier'></div>

  <h1>Plan Exterieurs</h1>
  <div id='plan_exterieurs'></div>

  </body>
  <script>
  fetch('/api/v0.1/server.php').then(function(response) {
    console.log("response");
    response.json().then(function(ourschema) {

      document.querySelectorAll("schema-filiaire schema-position").forEach(el => {
          console.log("Setting schema on ", el);
          el.setAttribute("schema", ourchema);
      })

      // ReactDOM.render(
      //   <SchemaFiliaire schema={state.oschema}/>,
      //   document.getElementById('schema')
      // );

      // ReactDOM.render(
      //   <SchemaPosition schema={state.oschema} plan='cave'
      //     image={{ src: '/cave.jpg', scale: 0.50, viewBox: '175 100 850 550' }}
      //     />,
      //   document.getElementById('plan_cave')
      // );

      // ReactDOM.render(
      //   <SchemaPosition schema={state.oschema} plan='rdc'
      //     image={{ src: '/rdc.png', scale: 0.50, viewBox: '200 100 900 550' }}
      //     />,
      //   document.getElementById('plan_rdc')
      // );

      // ReactDOM.render(
      //   <SchemaPosition schema={state.oschema} plan='etage'
      //     image={{ src: '/etage.png', scale: 0.50, viewBox: '175 100 900 550' }}
      //     />,
      //   document.getElementById('plan_etage')
      // );

      // ReactDOM.render(
      //   <SchemaPosition schema={state.oschema} plan='grenier'
      //     image={{ src: '/grenier.png', scale: 0.50 }} />,
      //   document.getElementById('plan_grenier')
      // );

      // ReactDOM.render(
      //    <SchemaPosition schema={state.oschema} plan='exterieurs'
      //      image={{ src: '/exterieurs.png', scale: 1 }} />,
      //    document.getElementById('plan_exterieurs')
      // );
    });
  });
  </script>
</html>
